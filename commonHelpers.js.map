{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\ndocument.addEventListener('DOMContentLoaded', function(){\n  const apiKey = '42207002-bb01baf83cbb3b924a651843b';\n  const searchInput = document.getElementById('searchInput');\n  const searchButton = document.getElementById('searchButton');\n  const imageContainer = document.getElementById('imageContainer');\n  const loadingIndicator = document.getElementById('loadingIndicator');\n  const searchForm = document.getElementById('searchForm'); \n\n  if (!searchForm || !searchInput || !searchButton || !imageContainer || !loadingIndicator) {\n      console.error('One or more elements not found.');\n      return;\n  }\n\n  searchForm.addEventListener('submit', async (event) => {\n      event.preventDefault();\n      const searchTerm = searchInput.value.trim();\n    \n      if (searchTerm) {\n          showLoadingIndicator();\n          try {\n              await searchImages(searchTerm);\n          } catch (error) {\n              console.error('Error occurred during search:', error);\n          } finally {\n              hideLoadingIndicator();\n          }\n      } else {\n          iziToast.error({\n              title: 'Error',\n              message: 'Please enter a search term.',\n          });\n      }\n  });\n\n  function showLoadingIndicator() {\n      loadingIndicator.style.display = 'block';\n  }\n  \n  function hideLoadingIndicator() {\n      if(loadingIndicator && loadingIndicator.style.display !== 'none'){\n          loadingIndicator.style.display = 'none';\n      }\n  }\n\n  async function searchImages(query) {\n      const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n      try {\n          const response = await axios.get(url);\n          const data = response.data;\n\n          if (data.hits && data.hits.length > 0) {\n              clearImages();\n              displayImages(data.hits);\n          } else {\n              iziToast.info({\n                  title: 'Info',\n                  message: 'Sorry, there are no images matching your search query. Please try again.',\n              });\n              clearImages();\n          }\n      } catch (error) {\n          throw new Error('An error occurred while fetching images. Please try again.');\n      }\n  }\n\n  const lightbox = new SimpleLightbox('.card-link');\n  function displayImages(images) {\n      const html = images.map(image => generateImageCard(image)).join('');\n      imageContainer.innerHTML = html;\n      lightbox.refresh();\n  }\n\n  function generateImageCard(image) {\n      return `\n          <div class=\"image-card\">\n              <a href=\"${image.largeImageURL}\" class=\"card-link\" data-lightbox=\"image\">\n                  <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"card-image\">\n              </a>\n              <div class=\"card-details\">\n                  <p class=\"card-text\"><strong>Likes:</strong> ${image.likes}</p>\n                  <p class=\"card-text\"><strong>Views:</strong> ${image.views}</p>\n              </div>\n              <div class=\"card-details\">\n                  <p class=\"card-text\"><strong>Comments:</strong> ${image.comments}</p>\n                  <p class=\"card-text\"><strong>Downloads:</strong> ${image.downloads}</p>\n              </div>\n          </div>\n      `;\n  }\n\n  function clearImages() {\n      imageContainer.innerHTML = '';\n  }\n});"],"names":["apiKey","searchInput","searchButton","imageContainer","loadingIndicator","searchForm","event","searchTerm","showLoadingIndicator","searchImages","error","hideLoadingIndicator","iziToast","query","url","data","axios","clearImages","displayImages","lightbox","SimpleLightbox","images","html","image","generateImageCard"],"mappings":"owBAMA,SAAS,iBAAiB,mBAAoB,UAAU,CACtD,MAAMA,EAAS,qCACTC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAiB,SAAS,eAAe,gBAAgB,EACzDC,EAAmB,SAAS,eAAe,kBAAkB,EAC7DC,EAAa,SAAS,eAAe,YAAY,EAEvD,GAAI,CAACA,GAAc,CAACJ,GAAe,CAACC,GAAgB,CAACC,GAAkB,CAACC,EAAkB,CACtF,QAAQ,MAAM,iCAAiC,EAC/C,MACH,CAEDC,EAAW,iBAAiB,SAAU,MAAOC,GAAU,CACnDA,EAAM,eAAc,EACpB,MAAMC,EAAaN,EAAY,MAAM,KAAI,EAEzC,GAAIM,EAAY,CACZC,IACA,GAAI,CACA,MAAMC,EAAaF,CAAU,CAChC,OAAQG,EAAO,CACZ,QAAQ,MAAM,gCAAiCA,CAAK,CAClE,QAAoB,CACNC,GACH,CACX,MACUC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACvB,CAAW,CAEX,CAAG,EAED,SAASJ,GAAuB,CAC5BJ,EAAiB,MAAM,QAAU,OACpC,CAED,SAASO,GAAuB,CACzBP,GAAoBA,EAAiB,MAAM,UAAY,SACtDA,EAAiB,MAAM,QAAU,OAExC,CAED,eAAeK,EAAaI,EAAO,CAC/B,MAAMC,EAAM,gCAAgCd,CAAM,MAAM,mBAAmBa,CAAK,CAAC,2DAEjF,GAAI,CAEA,MAAME,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAElBC,EAAK,MAAQA,EAAK,KAAK,OAAS,GAChCE,IACAC,EAAcH,EAAK,IAAI,IAEvBH,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EAC3B,CAAe,EACDK,IAEP,MAAe,CACZ,MAAM,IAAI,MAAM,4DAA4D,CAC/E,CACJ,CAED,MAAME,EAAW,IAAIC,EAAe,YAAY,EAChD,SAASF,EAAcG,EAAQ,CAC3B,MAAMC,EAAOD,EAAO,IAAIE,GAASC,EAAkBD,CAAK,CAAC,EAAE,KAAK,EAAE,EAClEpB,EAAe,UAAYmB,EAC3BH,EAAS,QAAO,CACnB,CAED,SAASK,EAAkBD,EAAO,CAC9B,MAAO;AAAA;AAAA,yBAEYA,EAAM,aAAa;AAAA,8BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,iEAGHA,EAAM,KAAK;AAAA,iEACXA,EAAM,KAAK;AAAA;AAAA;AAAA,oEAGRA,EAAM,QAAQ;AAAA,qEACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAIjF,CAED,SAASN,GAAc,CACnBd,EAAe,UAAY,EAC9B,CACH,CAAC"}